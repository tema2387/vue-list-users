webpackJsonp([1],{"7xyS":function(e,t){},"8qvv":function(e,t){},BboQ:function(e,t){},LKdK:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("/5sW"),i=s("Dd8w"),r=s.n(i),a=s("/ocq"),l=s("NYxO"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M9.00005 7.93955L12.7126 4.22705L13.7731 5.28755L10.0606 9.00005L13.7731 12.7126L12.7126 13.7731L9.00005 10.0606L5.28755 13.7731L4.22705 12.7126L7.93955 9.00005L4.22705 5.28755L5.28755 4.22705L9.00005 7.93955Z",fill:"currentColor"}})])},staticRenderFns:[]},c={name:"Popup",components:{Close:s("VU/8")(null,o,!1,null,null,null).exports},methods:r()({},Object(l.c)("popups",["togglePopupUserAdd","closePopupUserAdd"]))},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"popup"},[t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:this.closePopupUserAdd,expression:"closePopupUserAdd"}],staticClass:"popup__content"},[t("div",{staticClass:"popup__close",on:{click:this.togglePopupUserAdd}},[t("Close")],1),this._v(" "),this._t("default")],2)])},staticRenderFns:[]};var d=s("VU/8")(c,u,!1,function(e){s("BboQ")},"data-v-9568b0ac",null).exports,p={name:"UiInput",directives:{mask:s("1I9z").a},data:function(){return{maskValue:"",inputValue:""}},mounted:function(){"phone"===this.format?this.maskValue="+7 (###) ###-##-##":this.maskValue=""},props:{id:{type:String,required:!0},label:{type:String,default:"text"},format:{type:String,default:"text"},placeholder:{type:String,default:""},error:{type:Boolean,default:!1}},methods:{updateValue:function(){this.$emit("input",this.inputValue)}}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input"},[s("label",{staticClass:"input__label text-14",attrs:{for:e.id}},[e._v("\n    "+e._s(e.label)+"\n  ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"},{name:"mask",rawName:"v-mask",value:e.maskValue,expression:"maskValue"}],staticClass:"input__field",class:[e.error?"input__field--error":""],attrs:{id:e.id,type:"text",placeholder:e.placeholder},domProps:{value:e.inputValue},on:{input:[function(t){t.target.composing||(e.inputValue=t.target.value)},e.updateValue]}})])},staticRenderFns:[]};var m=s("VU/8")(p,_,!1,function(e){s("Ydec")},"data-v-10ed5c40",null).exports,v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M10.0001 10.9766L14.1251 6.85156L15.3034 8.0299L10.0001 13.3332L4.69678 8.0299L5.87511 6.85156L10.0001 10.9766Z",fill:"currentColor","fill-opacity":"0.9"}})])},staticRenderFns:[]},h=s("VU/8")(null,v,!1,null,null,null).exports,f={name:"UiSelect",components:{Arrow:h},data:function(){return{selectedValue:null,selectOpen:!1,displayValue:null}},props:{id:{type:String,required:!0},label:{type:String,default:"Select"},placeholder:{type:String,default:""},options:{type:Array,default:function(){return[]}}},methods:{toggleList:function(){this.selectOpen=!this.selectOpen},closeList:function(){this.selectOpen=!1},selectOption:function(e){this.selectedValue=e.id,this.displayValue="#"+e.id+" "+e.name,this.$emit("input",this.selectedValue),this.closeList()},resetSelect:function(){this.selectedValue=null,this.displayValue=null,this.closeList()}}},g={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeList,expression:"closeList"}],staticClass:"select"},[s("label",{staticClass:"select__label text-14",attrs:{for:e.id}},[e._v("\n    "+e._s(e.label)+"\n  ")]),e._v(" "),s("div",{staticClass:"select__field-wrapper",on:{click:e.toggleList}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.displayValue,expression:"displayValue"}],ref:"input",staticClass:"select__field",class:[e.selectOpen?"select__field--open":""],attrs:{id:e.id,placeholder:e.placeholder,readonly:""},domProps:{value:e.displayValue},on:{input:function(t){t.target.composing||(e.displayValue=t.target.value)}}}),e._v(" "),s("div",{staticClass:"select__arrow",class:[e.selectOpen?"select__arrow--open":""]},[s("Arrow")],1)]),e._v(" "),e.selectOpen?s("div",{staticClass:"select__list"},[e.options.length>0?s("div",{staticClass:"select__option",on:{click:function(t){return t.stopPropagation(),e.resetSelect.apply(null,arguments)}}},[e._v("\n      Не выбрано\n    ")]):e._e(),e._v(" "),e._l(e.options,function(t){return s("div",{key:t.id,staticClass:"select__option",class:[t.id===e.selectedValue?"select__option--selected":""],on:{click:function(s){return s.stopPropagation(),e.selectOption(t)}}},[e._v("\n      #"+e._s(t.id)+" "+e._s(t.name)+"\n    ")])}),e._v(" "),0===e.options.length?s("div",{staticClass:"select__option select__option--empty"},[e._v("\n      Пользователи не найдены\n    ")]):e._e()],2):e._e()])},staticRenderFns:[]};var U={name:"PopupUserAdd",components:{Popup:d,UiInput:m,UiSelect:s("VU/8")(f,g,!1,function(e){s("NQfW")},"data-v-53bf68a8",null).exports},data:function(){return{name:"",phone:"",boss:null,errorName:!1,errorPhone:!1}},computed:r()({},Object(l.b)("dataUsers",["getUsers"])),methods:r()({},Object(l.c)("dataUsers",["addUser"]),Object(l.c)("popups",["togglePopupUserAdd"]),{addUserHandler:function(){if(this.validateFields()){var e={id:this.getUsers.length+1,name:this.name,phone:this.phone,boss:this.boss};this.addUser(e),this.togglePopupUserAdd()}},validateFields:function(){var e=!0;return/\+7\s\([0-9]{3}\)\s[0-9]{3}-[0-9]{2}-[0-9]{2}/.test(this.phone)||(this.errorPhone=!0,e=!1),""===this.name&&(this.errorName=!0,e=!1),e}}),watch:{phone:function(){this.errorPhone=!1},name:function(){this.errorName=!1}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Popup",[s("div",{staticClass:"popup-user-add"},[s("div",{staticClass:"popup-user-add__title"},[s("h2",[e._v("Добавление пользователя")])]),e._v(" "),s("div",{staticClass:"popup-user-add__content"},[s("UiInput",{attrs:{id:"name",label:"Имя",placeholder:"Введите имя",error:e.errorName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("UiInput",{attrs:{id:"phone",label:"Телефон",format:"phone",error:e.errorPhone,placeholder:"+7 (___) ___-__-__"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),e._v(" "),s("UiSelect",{attrs:{id:"boss",label:"Начальник",placeholder:"Выберите начальника",options:e.getUsers},model:{value:e.boss,callback:function(t){e.boss=t},expression:"boss"}})],1),e._v(" "),s("UiButton",{attrs:{text:"Сохранить"},on:{click:e.addUserHandler}})],1)])},staticRenderFns:[]};var b=s("VU/8")(U,y,!1,function(e){s("gJVF")},"data-v-7227a29a",null).exports,C={name:"App",components:{RouterView:a.a,PopupUserAdd:b},computed:r()({},Object(l.d)("popups",["popupUserAddOpen"]))},V={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("RouterView"),this._v(" "),t("Transition",{attrs:{name:"opacity"}},[this.popupUserAddOpen?t("PopupUserAdd"):this._e()],1)],1)},staticRenderFns:[]},x=s("VU/8")(C,V,!1,null,null,null).exports,w=s("An7n"),k=s.n(w),B={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"default-layout"},[this._t("default")],2)},staticRenderFns:[]},L=s("VU/8")({name:"DefaultLayout"},B,!1,null,null,null).exports,S={name:"User",props:{user:{type:Object,required:!0},border:{type:Boolean,default:!1}},computed:r()({},Object(l.b)("dataUsers",["getUserById"]),{getBoss:function(){return this.user.boss?this.getUserById(this.user.boss):null}})},P={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-item",class:[e.border?"user-item--border":""]},[s("div",{staticClass:"user-item__item user-item__item--purple"},[s("div",{staticClass:"user-item__item-text"},[e._v("\n      #"+e._s(e.user.id)+"\n    ")])]),e._v(" "),s("div",{staticClass:"user-item__item"},[s("div",{staticClass:"user-item__item-text"},[e._v("\n      "+e._s(e.user.name)+"\n    ")])]),e._v(" "),s("div",{staticClass:"user-item__item"},[s("div",{staticClass:"user-item__item-text"},[e._v("\n      "+e._s(e.user.phone)+"\n    ")])]),e._v(" "),s("div",{staticClass:"user-item__item user-item__item--purple"},[s("div",{staticClass:"user-item__item-text"},[e._v("\n      "+e._s(e.getBoss?"#"+e.getBoss.id+" "+e.getBoss.name:"Не назначен")+"\n    ")])])])},staticRenderFns:[]};var A={name:"UserList",components:{UserItem:s("VU/8")(S,P,!1,function(e){s("7xyS")},"data-v-1680ff81",null).exports,Arrow:h},data:function(){return{sortTypeByName:"increase",sortTypeById:"increase"}},computed:r()({},Object(l.b)("dataUsers",["getSortedUsers"]),{users:function(){return this.getSortedUsers}}),methods:r()({},Object(l.c)("popups",["togglePopupUserAdd"]),Object(l.c)("dataUsers",["setSortType"]),{clickSortUsersByName:function(){this.sortTypeByName="increase"===this.sortTypeByName?"decrease":"increase",this.setSortType({field:"name",direction:this.sortTypeByName})},clickSortUsersById:function(){this.sortTypeById="increase"===this.sortTypeById?"decrease":"increase",this.setSortType({field:"id",direction:this.sortTypeById})}})},O={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-list"},[s("div",{staticClass:"user-list__actions"},[s("UiButton",{staticClass:"user-list__button",attrs:{icon:!0,text:"Добавить пользователя"},on:{click:e.togglePopupUserAdd}})],1),e._v(" "),s("div",{staticClass:"user-list__header"},[s("div",{staticClass:"user-list__header-item user-list__header-item--clickable",on:{click:e.clickSortUsersById}},[e._v("\n      #\n      "),s("Arrow",{staticClass:"user-list__header-item-icon",class:["decrease"===e.sortTypeById?"user-list__header-item--rotate":""]})],1),e._v(" "),s("div",{staticClass:"user-list__header-item user-list__header-item--clickable",on:{click:e.clickSortUsersByName}},[e._v("\n      Имя\n      "),s("Arrow",{staticClass:"user-list__header-item-icon",class:["decrease"===e.sortTypeByName?"user-list__header-item--rotate":""]})],1),e._v(" "),s("div",{staticClass:"user-list__header-item"},[e._v("\n      Телефон\n    ")]),e._v(" "),s("div",{staticClass:"user-list__header-item"},[e._v("\n      Начальник\n    ")])]),e._v(" "),s("div",{staticClass:"user-list__content"},[e._l(e.users,function(t){return s("UserItem",{key:t.id,attrs:{user:t,border:t.id!==e.users[e.users.length-1].id}})}),e._v(" "),0===e.users.length?s("div",{staticClass:"user-list__empty"},[e._v("\n      Пользователи не найдены\n    ")]):e._e()],2)])},staticRenderFns:[]};var N={name:"MainPage",components:{DefaultLayout:L,UserList:s("VU/8")(A,O,!1,function(e){s("LKdK")},"data-v-c8b0f3e6",null).exports}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("DefaultLayout",[t("div",{staticClass:"main-page"},[t("UserList")],1)])},staticRenderFns:[]};var T=s("VU/8")(N,I,!1,function(e){s("S37v")},"data-v-84486634",null).exports;n.a.use(a.b);var F=[{path:"/",component:T,name:"MainPage"}],R=new a.b({mode:"history",routes:F}),$=s("Gu7T"),E=s.n($),j=s("mvHQ"),H=s.n(j),q={namespaced:!0,state:{users:JSON.parse(localStorage.getItem("users"))||[],sortType:{field:"id",direction:"increase"}},mutations:{addUser:function(e,t){e.users.push(t),localStorage.setItem("users",H()(e.users))},setSortType:function(e,t){var s=t.field,n=t.direction;e.sortType={field:s,direction:n}}},getters:{getUsers:function(e){return e.users},getUserById:function(e){return function(t){return e.users.find(function(e){return e.id===t})}},getSortedUsers:function(e){var t=e.sortType,s=t.field,n=t.direction;return[].concat(E()(e.users)).sort(function(e,t){return"name"===s?"increase"===n?e.name.localeCompare(t.name):t.name.localeCompare(e.name):"increase"===n?e.id-t.id:t.id-e.id})}}};n.a.use(l.a);var M=new l.a.Store({modules:{popups:{namespaced:!0,state:{popupUserAddOpen:!1},mutations:{togglePopupUserAdd:function(e){e.popupUserAddOpen=!e.popupUserAddOpen},closePopupUserAdd:function(e){e.popupUserAddOpen=!1}}},dataUsers:q}}),Q={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M4.33301 4.3335V0.333496H5.66634V4.3335H9.66634V5.66683H5.66634V9.66683H4.33301V5.66683H0.333008V4.3335H4.33301Z",fill:"currentColor"}})])},staticRenderFns:[]},Y={name:"UiButton",components:{Plus:s("VU/8")(null,Q,!1,null,null,null).exports},props:{icon:{type:Boolean,default:!1},text:{type:String,default:""}},methods:{handleClick:function(){this.$emit("click")}}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"button",on:{click:function(t){return t.stopPropagation(),e.handleClick.apply(null,arguments)}}},[e.icon?s("div",{staticClass:"button__icon"},[s("Plus")],1):e._e(),e._v(" "),s("div",{staticClass:"button__text"},[e._v("\n    "+e._s(e.text)+"\n  ")])])},staticRenderFns:[]};var J=[{name:"UiButton",component:s("VU/8")(Y,D,!1,function(e){s("t9RY")},"data-v-cb1ec8e4",null).exports}];s("8qvv");J.forEach(function(e){n.a.component(e.name,e.component)}),n.a.use(k.a),new n.a({el:"#app",router:R,store:M,render:function(e){return e(x)}})},NQfW:function(e,t){},S37v:function(e,t){},Ydec:function(e,t){},gJVF:function(e,t){},t9RY:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9c698e1f28a8851e2e73.js.map